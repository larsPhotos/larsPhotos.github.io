<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    <script src="libraries/p5.js" type="text/javascript"></script>

    <script src="libraries/p5.dom.js" type="text/javascript"></script>
    <script src="libraries/p5.sound.js" type="text/javascript"></script>

    <script>
    var sequence = [];
    var theta = 0;
    var l = 4;
    var pos = {
      x:10,
      y:502
    }
    function setup() {
      // var canv =
      createCanvas(512,512);
      // canv.parent('thue-morse_turtle');
      // canv.id('thue-turtle');
      // canv.class('thue-turtle');

      sequence[0] = false;
      sequence[1] = true;
      for (var i = 1; i<4096; i++) {
        sequence[2*i] = sequence[i];
        sequence[2*i+1] = !sequence[i];
      }
      // frameRate(2);
      noLoop();
    }

    function draw() {
      // var p = floor(sequence.length*mouseX/width);
      for (var i =0; i<sequence.length; i++) {
        // console.log(sequence.length);
        if (!sequence[i]) {
          theta+=PI/3;
          theta%=TWO_PI;
          // if (theta<0) theta+=TWO_PI;
        } else {
          line(pos.x, pos.y, pos.x + l*cos(theta), pos.y - l*sin(theta));
          pos.x += l*cos(theta);
          pos.y -= l*sin(theta);
        }
        if (pos.x > width || pos.x < 0 || pos.y > height || pos.y<0) break;
        // p5.delayTime(0.5);
      }
      noLoop();
    }
    </script>
    <style> body {padding: 0; margin: 0;} canvas {vertical-align: top;} </style>
  </head>
  <body>
  </body>
</html>
